(this["webpackJsonpdad-jokes"]=this["webpackJsonpdad-jokes"]||[]).push([[0],{35:function(e,t,a){e.exports=a(70)},41:function(e,t,a){},42:function(e,t,a){},60:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(30),r=a.n(s),c=a(15),i=a(19),l=a(16),u=a.n(l),m=a(31),p=a(9),d=a(10),k=a(7),f=a(12),h=a(11),v=(a(41),function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"_handleChangeVote",value:function(e){this.props.changeVote(e,this.props.uuid)}},{key:"_handleRemoveJoke",value:function(){this.props.removeJoke(this.props.uuid)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Joke my-3 py-3 row"},o.a.createElement("div",{className:"d-inline col-2 Joke-BtnWrapper row"},o.a.createElement("button",{className:"Joke-Btn col-12",onClick:function(){return e._handleChangeVote(1)}},o.a.createElement("i",{className:"fas fa-angle-up"})),o.a.createElement("p",{className:"d-inline col-12"},this.props.upvotes),o.a.createElement("button",{className:"Joke-Btn col-12",onClick:function(){return e._handleChangeVote(-1)}},o.a.createElement("i",{className:"fas fa-angle-down"})),o.a.createElement("button",{className:"Joke-Btn col-12",onClick:function(){return e._handleRemoveJoke()}},o.a.createElement("i",{className:"far fa-trash-alt"}))),o.a.createElement("div",{className:"col-10 mt-2",onClick:function(){return window.location.href="/jokes/".concat(e.props.uuid)}},o.a.createElement("p",{className:this.props.upvotes<0?"Joke-Dimmed":""},this.props.text)))}}]),a}(o.a.Component)),j=(a(42),function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e="https://twitter.com/intent/tweet?text="+this.props.text.split(" ").join("%20").split("?").join("%3F").split(",").join("%2C").split("'").join("%27");return o.a.createElement("div",{className:""},o.a.createElement("div",{className:"Tweetable my-3 d-flex justify-content-center py-3 row"},o.a.createElement("div",{className:"col-11 mt-2"},o.a.createElement("p",null,this.props.text))),o.a.createElement("div",{className:"Tweetable-ButtonSection row"},o.a.createElement("div",{className:"col-12 col-sm-4 px-1 py-1"},o.a.createElement("button",{className:"Tweetable-Button px-4 py-3 w-100",onClick:function(){return window.location.href="/jokes"}},o.a.createElement("i",{className:"fas fa-home"})," Back")),o.a.createElement("div",{className:"col-12 col-sm-4 px-1 py-1"},o.a.createElement("button",{className:"Tweetable-Button twitter px-4 py-3 w-100",onClick:function(){return window.open(e)}},o.a.createElement("i",{className:"fab fa-twitter"})," Tweet Joke")),o.a.createElement("div",{className:"col-12 col-sm-4 px-1 py-1"},o.a.createElement("button",{className:"Tweetable-Button instagram px-4 py-3 w-100",onClick:function(){return alert("Coming soon!")}},o.a.createElement("i",{className:"fab fa-instagram"})," 'Gram Joke"))))}}]),a}(o.a.Component)),b=a(32),E=a.n(b),w=a(33),J=a.n(w),N=a(1),y=(a(60),function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={jokes:JSON.parse(window.localStorage.getItem("jokes")||"[]"),isLoaded:!0},n.seenJokes=new Set(n.state.jokes.map((function(e){return e.text}))),n._changeVote=n._changeVote.bind(Object(k.a)(n)),n._genJokes=n._genJokes.bind(Object(k.a)(n)),n._renderJokes=n._renderJokes.bind(Object(k.a)(n)),n._removeJoke=n._removeJoke.bind(Object(k.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){0===this.state.jokes.length&&this._genJokes()}},{key:"_genJokes",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isLoaded:!1}),t=[];case 2:if(!(t.length<this.props.n)){e.next=10;break}return e.next=5,E.a.get("https://icanhazdadjoke.com/slack");case 5:a=e.sent,n=a.data.attachments[0].text,this.seenJokes.has(n)||(t.push({text:n,upvotes:0,uuid:J()()}),this.seenJokes.add(n)),e.next=2;break;case 10:this.setState((function(e){return{jokes:e.jokes.concat(t),isLoaded:!0}})),window.localStorage.setItem("jokes",JSON.stringify(this.state.jokes));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_changeVote",value:function(e,t){var a=this;this.setState((function(a){return{jokes:a.jokes.map((function(a){return a.uuid===t?Object(i.a)(Object(i.a)({},a),{},{upvotes:a.upvotes+e}):a}))}}),(function(){return window.localStorage.setItem("jokes",JSON.stringify(a.state.jokes))}))}},{key:"_removeJoke",value:function(e){var t=this;this.setState((function(t){return{jokes:t.jokes.filter((function(t){return t.uuid!==e}))}}),(function(){return window.localStorage.setItem("jokes",JSON.stringify(t.state.jokes))}))}},{key:"_renderJokes",value:function(){var e=this,t=this.state.jokes.sort((function(e,t){return t.upvotes-e.upvotes}));return o.a.createElement("div",null,t.map((function(t){return o.a.createElement(v,{text:t.text,upvotes:t.upvotes,changeVote:e._changeVote,removeJoke:e._removeJoke,key:t.uuid,uuid:t.uuid})})),o.a.createElement("div",{className:"w-100 text-center"},o.a.createElement("button",{className:"DadJokes-Btn px-4 py-3",onClick:this._genJokes},this.state.isLoaded?o.a.createElement("i",{className:"fas fa-plus"}):"Loading...")))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"DadJokes px-4"},o.a.createElement("div",{className:"row d-flex justify-content-center"},o.a.createElement("div",{className:"DadJokes-Body col-md-8 col-lg-8 px-3 py-2"},o.a.createElement(N.a,{exact:!0,path:"/jokes/:id",component:function(t){return o.a.createElement(j,{text:e.state.jokes.find((function(e){return e.uuid===t.match.params.id})).text})}}),o.a.createElement(N.a,{exact:!0,path:"/jokes",render:this._renderJokes}),o.a.createElement("div",{className:"w-100 text-center"},o.a.createElement("p",{className:"mt-5 DadJokes-Footer"},"Made by: ",o.a.createElement("a",{href:"https://paulboldyrev.me/",rel:"noopener noreferrer",target:"_blank",className:"DadJokes-Link"},"Paul Boldyrev"))))))}}]),a}(o.a.Component));y.defaultProps={n:1};var g=y;a(68);var x=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(g,null))};a(69);r.a.render(o.a.createElement(c.a,null,o.a.createElement(x,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.a15fd699.chunk.js.map