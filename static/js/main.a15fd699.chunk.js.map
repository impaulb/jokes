{"version":3,"sources":["Joke.js","Tweetable.js","DadJokes.js","App.js","index.js"],"names":["Joke","n","this","props","changeVote","uuid","removeJoke","className","onClick","_handleChangeVote","upvotes","_handleRemoveJoke","window","location","href","text","React","Component","Tweetable","tweetText","split","join","open","alert","DadJokes","state","jokes","JSON","parse","localStorage","getItem","isLoaded","seenJokes","Set","map","joke","_changeVote","bind","_genJokes","_renderJokes","_removeJoke","length","setState","newJokes","axios","get","data","attachments","has","push","add","st","concat","setItem","stringify","filter","sort","a","b","key","exact","path","component","routeProps","find","match","params","id","render","rel","target","defaultProps","App","ReactDOM","document","getElementById"],"mappings":"qXAgCeA,G,sLA1BOC,GACdC,KAAKC,MAAMC,WAAWH,EAAGC,KAAKC,MAAME,Q,0CAKpCH,KAAKC,MAAMG,WAAWJ,KAAKC,MAAME,Q,+BAG5B,IAAD,OACJ,OACI,yBAAKE,UAAU,sBACX,yBAAKA,UAAU,sCACX,4BAAQA,UAAU,kBAAkBC,QAAS,kBAAM,EAAKC,kBAAkB,KAAI,uBAAGF,UAAU,qBAC3F,uBAAGA,UAAU,mBAAmBL,KAAKC,MAAMO,SAC3C,4BAAQH,UAAU,kBAAkBC,QAAS,kBAAM,EAAKC,mBAAmB,KAAI,uBAAGF,UAAU,uBAC5F,4BAAQA,UAAU,kBAAkBC,QAAS,kBAAM,EAAKG,sBAAqB,uBAAGJ,UAAU,uBAE9F,yBAAKA,UAAU,cAAcC,QAAS,kBAAOI,OAAOC,SAASC,KAAhB,iBAAiC,EAAKX,MAAME,QACrF,uBAAGE,UAAaL,KAAKC,MAAMO,QAAU,EAAK,cAAgB,IAAMR,KAAKC,MAAMY,Y,GAtB5EC,IAAMC,YC0BVC,G,6KAxBP,IAAMC,EAAY,yCAA2CjB,KAAKC,MAAMY,KAAKK,MAAM,KAAKC,KAAK,OAAOD,MAAM,KAAKC,KAAK,OAAOD,MAAM,KAAKC,KAAK,OAAOD,MAAM,KAAKC,KAAK,OAClK,OACI,yBAAKd,UAAU,IACX,yBAAKA,UAAU,yDACX,yBAAKA,UAAU,eACX,2BAAIL,KAAKC,MAAMY,QAGvB,yBAAKR,UAAU,+BACX,yBAAKA,UAAU,6BACX,4BAAQA,UAAU,mCAAmCC,QAAS,kBAAOI,OAAOC,SAASC,KAAO,WAAW,uBAAGP,UAAU,gBAApH,UAEJ,yBAAKA,UAAU,6BACX,4BAAQA,UAAU,2CAA2CC,QAAS,kBAAOI,OAAOU,KAAKH,KAAa,uBAAGZ,UAAU,mBAAnH,gBAEJ,yBAAKA,UAAU,6BACX,4BAAQA,UAAU,6CAA6CC,QAAS,kBAAOe,MAAM,kBAAkB,uBAAGhB,UAAU,qBAApH,sB,GAlBAS,IAAMC,Y,yCCKxBO,G,wDAOF,WAAYrB,GAAO,IAAD,8BACd,cAAMA,IACDsB,MAAQ,CAETC,MAAOC,KAAKC,MAAMhB,OAAOiB,aAAaC,QAAQ,UAAY,MAC1DC,UAAU,GAEd,EAAKC,UAAY,IAAIC,IAAI,EAAKR,MAAMC,MAAMQ,KAAI,SAAAC,GAAI,OAAIA,EAAKpB,SAC3D,EAAKqB,YAAc,EAAKA,YAAYC,KAAjB,gBACnB,EAAKC,UAAY,EAAKA,UAAUD,KAAf,gBACjB,EAAKE,aAAe,EAAKA,aAAaF,KAAlB,gBACpB,EAAKG,YAAc,EAAKA,YAAYH,KAAjB,gBAXL,E,gEAgBiB,IAA5BnC,KAAKuB,MAAMC,MAAMe,QAChBvC,KAAKoC,c,sJAKTpC,KAAKwC,SAAS,CAACX,UAAU,IACrBY,EAAW,G,YAGTA,EAASF,OAASvC,KAAKC,MAAMF,G,iCACd2C,IAAMC,IAAI,oC,OAAvBC,E,OACAX,EAAOW,EAAKA,KAAKC,YAAY,GAAGhC,KAChCb,KAAK8B,UAAUgB,IAAIb,KAGnBQ,EAASM,KACL,CACIlC,KAAMoB,EACNzB,QAAS,EACTL,KAAMA,QAKdH,KAAK8B,UAAUkB,IAAIf,I,uBAK3BjC,KAAKwC,UAAS,SAAAS,GAAE,MACZ,CACIzB,MAAOyB,EAAGzB,MAAM0B,OAAOT,GACvBZ,UAAU,MAKlBnB,OAAOiB,aAAawB,QAAQ,QAAS1B,KAAK2B,UAAUpD,KAAKuB,MAAMC,Q,yIAGvDzB,EAAGI,GAAM,IAAD,OAChBH,KAAKwC,UAAS,SAAAS,GAAE,MAAK,CACjBzB,MAAOyB,EAAGzB,MAAMQ,KAEZ,SAAAC,GAEI,OAAGA,EAAK9B,OAASA,EACb,2BAAU8B,GAAV,IAAgBzB,QAASyB,EAAKzB,QAAUT,IAEzCkC,SAIX,kBAAMvB,OAAOiB,aAAawB,QAAQ,QAAS1B,KAAK2B,UAAU,EAAK7B,MAAMC,a,kCAIjErB,GAAM,IAAD,OACbH,KAAKwC,UAAS,SAAAS,GAAE,MACZ,CAEIzB,MAAOyB,EAAGzB,MAAM6B,QAAO,SAAApB,GAAI,OAAIA,EAAK9B,OAASA,SAGlD,kBAAMO,OAAOiB,aAAawB,QAAQ,QAAS1B,KAAK2B,UAAU,EAAK7B,MAAMC,a,qCAG7D,IAAD,OAGNA,EAAQxB,KAAKuB,MAAMC,MAAM8B,MAAK,SAACC,EAAEC,GAAH,OAAUA,EAAEhD,QAAU+C,EAAE/C,WACtD,OACQ,6BACKgB,EAAMQ,KAAI,SAAAC,GAAI,OACf,kBAAC,EAAD,CACIpB,KAAMoB,EAAKpB,KACXL,QAASyB,EAAKzB,QACdN,WAAY,EAAKgC,YACjB9B,WAAY,EAAKkC,YACjBmB,IAAKxB,EAAK9B,KACVA,KAAM8B,EAAK9B,UAGf,yBAAKE,UAAU,qBACX,4BAAQA,UAAU,yBAAyBC,QAASN,KAAKoC,WAAapC,KAAKuB,MAAMM,SAAW,uBAAGxB,UAAU,gBAAqB,kB,+BAM7I,IAAD,OACJ,OACI,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,qCACX,yBAAKA,UAAU,6CACX,kBAAC,IAAD,CACIqD,OAAK,EACLC,KAAK,aACLC,UAAW,SAACC,GAAD,OAAgB,kBAAC,EAAD,CAAWhD,KAAM,EAAKU,MAAMC,MAAMsC,MAAK,SAAA7B,GAAI,OAAIA,EAAK9B,OAAS0D,EAAWE,MAAMC,OAAOC,MAAIpD,UAExH,kBAAC,IAAD,CACI6C,OAAK,EACLC,KAAK,SACLO,OAAQlE,KAAKqC,eAEjB,yBAAKhC,UAAU,qBACX,uBAAGA,UAAU,wBAAb,YAA6C,uBAAGO,KAAK,2BAA2BuD,IAAI,sBAAsBC,OAAO,SAAS/D,UAAU,iBAAvF,0B,GAlIlDS,IAAMC,YAAvBO,EAGK+C,aAAe,CAClBtE,EAAG,GAuIIuB,Q,MCvIAgD,MARf,WACE,OACE,yBAAKjE,UAAU,OACb,kBAAC,EAAD,Q,MCDNkE,IAASL,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFM,SAASC,eAAe,W","file":"static/js/main.a15fd699.chunk.js","sourcesContent":["import React from 'react';\nimport \"./Joke.css\";\n\nclass Joke extends React.Component{\n\n    // Handle arrow button click\n    _handleChangeVote(n){\n        this.props.changeVote(n, this.props.uuid);\n    }\n\n    // Handle X button click\n    _handleRemoveJoke(){\n        this.props.removeJoke(this.props.uuid);\n    }\n\n    render(){\n        return(\n            <div className=\"Joke my-3 py-3 row\">\n                <div className=\"d-inline col-2 Joke-BtnWrapper row\">\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleChangeVote(1)}><i className=\"fas fa-angle-up\"></i></button>\n                    <p className=\"d-inline col-12\">{this.props.upvotes}</p>\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleChangeVote(-1)}><i className=\"fas fa-angle-down\"></i></button>\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleRemoveJoke()}><i className=\"far fa-trash-alt\"></i></button>\n                </div>\n                <div className=\"col-10 mt-2\" onClick={() => (window.location.href = `/jokes/${this.props.uuid}`)}>\n                    <p className={((this.props.upvotes < 0) ? \"Joke-Dimmed\" : \"\")}>{this.props.text}</p>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Joke;","import React from 'react';\nimport \"./Tweetable.css\";\n\nclass Tweetable extends React.Component{\n    render(){\n        const tweetText = \"https://twitter.com/intent/tweet?text=\" + this.props.text.split(\" \").join(\"%20\").split(\"?\").join(\"%3F\").split(\",\").join(\"%2C\").split(\"'\").join(\"%27\");\n        return(\n            <div className=\"\">\n                <div className=\"Tweetable my-3 d-flex justify-content-center py-3 row\">\n                    <div className=\"col-11 mt-2\">\n                        <p>{this.props.text}</p>\n                    </div>\n                </div>\n                <div className=\"Tweetable-ButtonSection row\">\n                    <div className=\"col-12 col-sm-4 px-1 py-1\">\n                        <button className=\"Tweetable-Button px-4 py-3 w-100\" onClick={() => (window.location.href = \"/jokes\")}><i className=\"fas fa-home\"></i> Back</button>\n                    </div>\n                    <div className=\"col-12 col-sm-4 px-1 py-1\">\n                        <button className=\"Tweetable-Button twitter px-4 py-3 w-100\" onClick={() => (window.open(tweetText))}><i className=\"fab fa-twitter\"></i> Tweet Joke</button>\n                    </div>\n                    <div className=\"col-12 col-sm-4 px-1 py-1\">\n                        <button className=\"Tweetable-Button instagram px-4 py-3 w-100\" onClick={() => (alert(\"Coming soon!\"))}><i className=\"fab fa-instagram\"></i> 'Gram Joke</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Tweetable;","import React from 'react';\nimport Joke from \"./Joke\";\nimport Tweetable from \"./Tweetable\";\nimport axios from \"axios\";\nimport uuid from \"uuid/dist/v4\";\nimport { Route } from \"react-router-dom\";\nimport \"./DadJokes.css\";\n\nclass DadJokes extends React.Component{\n\n    // Default number of jokes to generate\n    static defaultProps = {\n        n: 1\n    }\n\n    constructor(props){\n        super(props);\n        this.state = {\n            // Either set jokes to localStorage or, if none have been generated, to an empty array\n            jokes: JSON.parse(window.localStorage.getItem(\"jokes\") || \"[]\"),\n            isLoaded: true\n        }\n        this.seenJokes = new Set(this.state.jokes.map(joke => joke.text));\n        this._changeVote = this._changeVote.bind(this);\n        this._genJokes = this._genJokes.bind(this);\n        this._renderJokes = this._renderJokes.bind(this);\n        this._removeJoke = this._removeJoke.bind(this);\n    }\n\n    // If there are no jokes, generate some on page load\n    componentDidMount(){\n        if(this.state.jokes.length === 0){\n            this._genJokes();\n        }\n    }\n\n    async _genJokes(){\n        this.setState({isLoaded: false});\n        let newJokes = [];\n\n        // Request random jokes from ICanHazDadJoke API\n        while(newJokes.length < this.props.n){\n            let data = await axios.get(\"https://icanhazdadjoke.com/slack\");\n            let joke = data.data.attachments[0].text;\n            if(!this.seenJokes.has(joke)){\n                \n                // Add new joke to new array of jokes\n                newJokes.push(\n                    {\n                        text: joke,\n                        upvotes: 0, \n                        uuid: uuid()\n                    }\n                );\n\n                // Add new joke to current list of jokes\n                this.seenJokes.add(joke);\n            }\n        }\n\n        // Updates joke state with new jokes\n        this.setState(st => (\n            {\n                jokes: st.jokes.concat(newJokes),\n                isLoaded: true\n            }\n        )); \n\n        // Update localStorage with new jokes\n        window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes));\n    }\n\n    _changeVote(n, uuid){\n        this.setState(st => ({\n            jokes: st.jokes.map(\n                // Map current jokes\n                joke => {\n                    // Update upvotes based on UUID\n                    if(joke.uuid === uuid){\n                        return{...joke, upvotes: joke.upvotes + n}\n                    }\n                return joke;\n                }\n            )\n            // Update localStorage with the changes\n        }), () => window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes))\n        );\n    }\n\n    _removeJoke(uuid){\n        this.setState(st => (\n            {\n                // Filter jokes based on UUID\n                jokes: st.jokes.filter(joke => joke.uuid !== uuid)\n            }\n            // Update localStorage with the changes\n        ), () => window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes)));\n    }\n\n    _renderJokes(){\n        \n        // Sort jokes based on the number of upvotes it has\n        let jokes = this.state.jokes.sort((a,b) => (b.upvotes - a.upvotes));\n            return(\n                    <div>\n                        {jokes.map(joke =>\n                        <Joke \n                            text={joke.text}\n                            upvotes={joke.upvotes}\n                            changeVote={this._changeVote}\n                            removeJoke={this._removeJoke}\n                            key={joke.uuid}\n                            uuid={joke.uuid}\n                        />)\n                        }\n                        <div className=\"w-100 text-center\">\n                            <button className=\"DadJokes-Btn px-4 py-3\" onClick={this._genJokes}>{(this.state.isLoaded ? <i className=\"fas fa-plus\"></i> : \"Loading...\")}</button>\n                        </div>\n                    </div>\n            );\n    }\n\n    render(){\n        return(\n            <div className=\"DadJokes px-4\">\n                <div className=\"row d-flex justify-content-center\">\n                    <div className=\"DadJokes-Body col-md-8 col-lg-8 px-3 py-2\">\n                        <Route\n                            exact\n                            path=\"/jokes/:id\"\n                            component={(routeProps) => <Tweetable text={this.state.jokes.find(joke => joke.uuid === routeProps.match.params.id).text} />}\n                        />\n                        <Route\n                            exact\n                            path=\"/jokes\"\n                            render={this._renderJokes}\n                        />\n                        <div className=\"w-100 text-center\">\n                            <p className=\"mt-5 DadJokes-Footer\">Made by: <a href=\"https://paulboldyrev.me/\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"DadJokes-Link\">Paul Boldyrev</a></p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DadJokes;","import React from 'react';\nimport DadJokes from \"./DadJokes\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <DadJokes />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from './App';\nimport \"./index.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);"],"sourceRoot":""}