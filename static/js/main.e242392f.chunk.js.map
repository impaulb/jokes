{"version":3,"sources":["Joke.js","DadJokes.js","App.js","index.js"],"names":["Joke","n","this","props","changeVote","uuid","removeJoke","tweetLink","text","split","join","className","onClick","_handleChangeVote","upvotes","target","rel","href","_handleRemoveJoke","React","Component","DadJokes","state","jokes","JSON","parse","window","localStorage","getItem","isLoaded","seenJokes","Set","map","joke","_changeVote","bind","_genJokes","_renderJokes","_removeJoke","length","setState","newJokes","axios","get","data","attachments","has","push","add","st","concat","setItem","stringify","filter","sort","a","b","key","defaultProps","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e242392f.chunk.js","sourcesContent":["import React from 'react';\nimport \"./Joke.css\";\n\nclass Joke extends React.Component{\n\n    // Handle arrow button click\n    _handleChangeVote(n){\n        this.props.changeVote(n, this.props.uuid);\n    }\n\n    // Handle X button click\n    _handleRemoveJoke(){\n        this.props.removeJoke(this.props.uuid);\n    }\n\n    render(){\n        const tweetLink = `https://twitter.com/intent/tweet?text=${this.props.text.split(' ').join('%20')}`;\n        return(\n            <div className=\"Joke my-3 py-3 row\">\n                <div className=\"d-inline col-2 Joke-BtnWrapper row\">\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleChangeVote(1)}><i className=\"fas fa-angle-up\"></i></button>\n                    <p className=\"d-inline col-12\">{this.props.upvotes}</p>\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleChangeVote(-1)}><i className=\"fas fa-angle-down\"></i></button>\n                    <a className=\"Joke-Btn col-12\" target=\"_blank\" rel=\"noopener noreferrer\" href={tweetLink}><i className=\"fab fa-twitter\"></i></a>\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleRemoveJoke()}><i className=\"far fa-trash-alt\"></i></button>\n                </div>\n                <div className=\"col-10 mt-2\">\n                    <p className={((this.props.upvotes < 0) ? \"Joke-Dimmed\" : \"\")}>{this.props.text}</p>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Joke;","import React from 'react';\nimport Joke from \"./Joke\";\nimport axios from \"axios\";\nimport uuid from \"uuid/dist/v4\";\nimport \"./DadJokes.css\";\n\nclass DadJokes extends React.Component{\n\n    // Default number of jokes to generate\n    static defaultProps = {\n        n: 1\n    }\n\n    constructor(props){\n        super(props);\n        this.state = {\n            // Either set jokes to localStorage or, if none have been generated, to an empty array\n            jokes: JSON.parse(window.localStorage.getItem(\"jokes\") || \"[]\"),\n            isLoaded: true\n        }\n        this.seenJokes = new Set(this.state.jokes.map(joke => joke.text));\n        this._changeVote = this._changeVote.bind(this);\n        this._genJokes = this._genJokes.bind(this);\n        this._renderJokes = this._renderJokes.bind(this);\n        this._removeJoke = this._removeJoke.bind(this);\n    }\n\n    // If there are no jokes, generate some on page load\n    componentDidMount(){\n        if(this.state.jokes.length === 0){\n            this._genJokes();\n        }\n    }\n\n    async _genJokes(){\n        this.setState({isLoaded: false});\n        let newJokes = [];\n\n        // Request random jokes from ICanHazDadJoke API\n        while(newJokes.length < this.props.n){\n            let data = await axios.get(\"https://icanhazdadjoke.com/slack\");\n            let joke = data.data.attachments[0].text;\n            if(!this.seenJokes.has(joke)){\n                \n                // Add new joke to new array of jokes\n                newJokes.push(\n                    {\n                        text: joke,\n                        upvotes: 0, \n                        uuid: uuid()\n                    }\n                );\n\n                // Add new joke to current list of jokes\n                this.seenJokes.add(joke);\n            }\n        }\n\n        // Updates joke state with new jokes\n        this.setState(st => (\n            {\n                jokes: st.jokes.concat(newJokes),\n                isLoaded: true\n            }\n        )); \n\n        // Update localStorage with new jokes\n        window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes));\n    }\n\n    _changeVote(n, uuid){\n        this.setState(st => ({\n            jokes: st.jokes.map(\n                // Map current jokes\n                joke => {\n                    // Update upvotes based on UUID\n                    if(joke.uuid === uuid){\n                        return{...joke, upvotes: joke.upvotes + n}\n                    }\n                return joke;\n                }\n            )\n            // Update localStorage with the changes\n        }), () => window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes))\n        );\n    }\n\n    _removeJoke(uuid){\n        this.setState(st => (\n            {\n                // Filter jokes based on UUID\n                jokes: st.jokes.filter(joke => joke.uuid !== uuid)\n            }\n            // Update localStorage with the changes\n        ), () => window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes)));\n    }\n\n    _renderJokes(){\n        \n        // Sort jokes based on the number of upvotes it has\n        let jokes = this.state.jokes.sort((a,b) => (b.upvotes - a.upvotes));\n            return(\n                    <div>\n                        {jokes.map(joke =>\n                        <Joke \n                            text={joke.text}\n                            upvotes={joke.upvotes}\n                            changeVote={this._changeVote}\n                            removeJoke={this._removeJoke}\n                            key={joke.uuid}\n                            uuid={joke.uuid}\n                        />)\n                        }\n                    </div>\n            );\n    }\n\n    render(){\n        return(\n            <div className=\"DadJokes px-4\">\n                <div className=\"row d-flex justify-content-center\">\n                    <div className=\"DadJokes-Body col-md-8 col-lg-8 px-3 py-2\">\n                        {this._renderJokes()}\n                        <div className=\"w-100 text-center\">\n                            <button className=\"DadJokes-Btn px-4 py-3\" onClick={this._genJokes}>{(this.state.isLoaded ? <i className=\"fas fa-plus\"></i> : \"Loading...\")}</button>\n                            <p className=\"mt-5 DadJokes-Footer\">Made by: <a href=\"https://paulboldyrev.me/\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"DadJokes-Link\">Paul Boldyrev</a></p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DadJokes;","import React from 'react';\nimport DadJokes from \"./DadJokes\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <DadJokes />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from './App';\nimport \"./index.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);"],"sourceRoot":""}