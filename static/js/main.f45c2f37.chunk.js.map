{"version":3,"sources":["Joke.js","DadJokes.js","App.js","index.js"],"names":["Joke","n","this","props","changeVote","uuid","removeJoke","className","onClick","_handleChangeVote","upvotes","_handleRemoveJoke","text","React","Component","DadJokes","state","jokes","JSON","parse","window","localStorage","getItem","isLoaded","seenJokes","Set","map","joke","_changeVote","bind","_genJokes","_renderJokes","_removeJoke","length","setState","newJokes","axios","get","data","attachments","has","push","add","st","concat","setItem","stringify","filter","sort","a","b","key","href","rel","target","defaultProps","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f45c2f37.chunk.js","sourcesContent":["import React from 'react';\nimport \"./Joke.css\";\n\nclass Joke extends React.Component{\n\n    // Handle arrow button click\n    _handleChangeVote(n){\n        this.props.changeVote(n, this.props.uuid);\n    }\n\n    // Handle X button click\n    _handleRemoveJoke(){\n        this.props.removeJoke(this.props.uuid);\n    }\n\n    render(){\n        return(\n            <div className=\"Joke my-3 py-3 row\">\n                <div className=\"d-inline col-2 Joke-BtnWrapper row\">\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleChangeVote(1)}><i className=\"fas fa-angle-up\"></i></button>\n                    <p className=\"d-inline col-12\">{this.props.upvotes}</p>\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleChangeVote(-1)}><i className=\"fas fa-angle-down\"></i></button>\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleRemoveJoke()}><i className=\"far fa-trash-alt\"></i></button>\n                </div>\n                <div className=\"col-10 mt-2\">\n                    <p className={((this.props.upvotes < 0) ? \"Joke-Dimmed\" : \"\")}>{this.props.text}</p>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Joke;","import React from 'react';\nimport Joke from \"./Joke\";\nimport axios from \"axios\";\nimport uuid from \"uuid/dist/v4\";\nimport \"./DadJokes.css\";\n\nclass DadJokes extends React.Component{\n\n    // Default number of jokes to generate\n    static defaultProps = {\n        n: 100\n    }\n\n    constructor(props){\n        super(props);\n        this.state = {\n            // Either set jokes to localStorage or, if none have been generated, to an empty array\n            jokes: JSON.parse(window.localStorage.getItem(\"jokes\") || \"[]\"),\n            isLoaded: true\n        }\n        this.seenJokes = new Set(this.state.jokes.map(joke => joke.text));\n        this._changeVote = this._changeVote.bind(this);\n        this._genJokes = this._genJokes.bind(this);\n        this._renderJokes = this._renderJokes.bind(this);\n        this._removeJoke = this._removeJoke.bind(this);\n    }\n\n    // If there are no jokes, generate some on page load\n    componentDidMount(){\n        if(this.state.jokes.length === 0){\n            this._genJokes();\n        }\n    }\n\n    async _genJokes(){\n        this.setState({isLoaded: false});\n        let newJokes = [];\n\n        // Request random jokes from ICanHazDadJoke API\n        while(newJokes.length < this.props.n){\n            let data = await axios.get(\"https://icanhazdadjoke.com/slack\");\n            let joke = data.data.attachments[0].text;\n            if(!this.seenJokes.has(joke)){\n                \n                // Add new joke to new array of jokes\n                newJokes.push(\n                    {\n                        text: joke,\n                        upvotes: 0, \n                        uuid: uuid()\n                    }\n                );\n\n                // Add new joke to current list of jokes\n                this.seenJokes.add(joke);\n            }\n        }\n\n        // Updates joke state with new jokes\n        this.setState(st => (\n            {\n                jokes: st.jokes.concat(newJokes),\n                isLoaded: true\n            }\n        )); \n\n        // Update localStorage with new jokes\n        window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes));\n    }\n\n    _changeVote(n, uuid){\n        this.setState(st => ({\n            jokes: st.jokes.map(\n                // Map current jokes\n                joke => {\n                    // Update upvotes based on UUID\n                    if(joke.uuid === uuid){\n                        return{...joke, upvotes: joke.upvotes + n}\n                    }\n                return joke;\n                }\n            )\n            // Update localStorage with the changes\n        }), () => window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes))\n        );\n    }\n\n    _removeJoke(uuid){\n        this.setState(st => (\n            {\n                // Filter jokes based on UUID\n                jokes: st.jokes.filter(joke => joke.uuid !== uuid)\n            }\n            // Update localStorage with the changes\n        ), () => window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes)));\n    }\n\n    _renderJokes(){\n        \n        // Sort jokes based on the number of upvotes it has\n        let jokes = this.state.jokes.sort((a,b) => (b.upvotes - a.upvotes));\n            return(\n                    <div>\n                        {jokes.map(joke =>\n                        <Joke \n                            text={joke.text}\n                            upvotes={joke.upvotes}\n                            changeVote={this._changeVote}\n                            removeJoke={this._removeJoke}\n                            key={joke.uuid}\n                            uuid={joke.uuid}\n                        />)\n                        }\n                    </div>\n            );\n    }\n\n    render(){\n        return(\n            <div className=\"DadJokes px-4\">\n                <div className=\"row d-flex justify-content-center\">\n                    <div className=\"DadJokes-Body col-md-8 col-lg-8 px-3 py-2\">\n                        {this._renderJokes()}\n                        <div className=\"w-100 text-center\">\n                            <button className=\"DadJokes-Btn px-4 py-3\" onClick={this._genJokes}>{(this.state.isLoaded ? <i className=\"fas fa-plus\"></i> : \"Loading...\")}</button>\n                            <p className=\"mt-5 DadJokes-Footer\">Made by: <a href=\"https://paulboldyrev.me/\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"DadJokes-Link\">Paul Boldyrev</a></p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DadJokes;","import React from 'react';\nimport DadJokes from \"./DadJokes\"\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <DadJokes />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}