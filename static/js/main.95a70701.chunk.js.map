{"version":3,"sources":["Joke.js","DadJokes.js","App.js","index.js"],"names":["Joke","n","this","props","changeVote","uuid","removeJoke","className","onClick","_handleChangeVote","upvotes","_handleRemoveJoke","text","React","Component","DadJokes","state","jokes","JSON","parse","window","localStorage","getItem","isLoaded","_changeVote","bind","_genJokes","_renderJokes","_removeJoke","length","setState","newJokes","i","axios","get","data","push","attachments","st","setItem","stringify","map","joke","filter","sort","a","b","key","href","rel","target","defaultProps","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.95a70701.chunk.js","sourcesContent":["import React from 'react';\nimport \"./Joke.css\";\n\nclass Joke extends React.Component{\n\n    // Handle arrow button click\n    _handleChangeVote(n){\n        this.props.changeVote(n, this.props.uuid);\n    }\n\n    // Handle X button click\n    _handleRemoveJoke(){\n        this.props.removeJoke(this.props.uuid);\n    }\n\n    render(){\n        return(\n            <div className=\"Joke my-3 py-3 row\">\n                <div className=\"d-inline col-2 Joke-BtnWrapper row\">\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleChangeVote(1)}><i className=\"fas fa-angle-up\"></i></button>\n                    <p className=\"d-inline col-12\">{this.props.upvotes}</p>\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleChangeVote(-1)}><i className=\"fas fa-angle-down\"></i></button>\n                    <button className=\"Joke-Btn col-12\" onClick={() => this._handleRemoveJoke()}><i className=\"fas fa-times\"></i></button>\n                </div>\n                <div className=\"col-10 mt-2\">\n                    <p className={((this.props.upvotes < 0) ? \"Joke-Dimmed\" : \"\")}>{this.props.text}</p>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Joke;","import React from 'react';\nimport Joke from \"./Joke\";\nimport axios from \"axios\";\nimport uuid from \"uuid/dist/v4\";\nimport \"./DadJokes.css\";\n\nclass DadJokes extends React.Component{\n\n    // Default number of jokes to generate\n    static defaultProps = {\n        n: 1\n    }\n\n    constructor(props){\n        super(props);\n        this.state = {\n            // Either set jokes to localStorage or, if none have been generated, to an empty array\n            jokes: JSON.parse(window.localStorage.getItem(\"jokes\") || \"[]\"),\n            isLoaded: true\n        }\n        this._changeVote = this._changeVote.bind(this);\n        this._genJokes = this._genJokes.bind(this);\n        this._renderJokes = this._renderJokes.bind(this);\n        this._removeJoke = this._removeJoke.bind(this);\n    }\n\n    // If there are no jokes, generate some on page load\n    componentDidMount(){\n        if(this.state.jokes.length === 0){\n            this._genJokes();\n        }\n    }\n\n    async _genJokes(){\n        this.setState({isLoaded: false});\n        let newJokes = this.state.jokes;\n\n        // Request random jokes from ICanHazDadJoke API\n        for(var i = 0; i < this.props.n; i++){\n            let data = await axios.get(\"https://icanhazdadjoke.com/slack\");\n            newJokes.push(\n                {\n                    text: data.data.attachments[0].text,\n                    upvotes: 0, \n                    uuid: uuid()\n                }\n            );\n        }\n\n        // Updates joke state with new jokes\n        this.setState(st => (\n            {\n                jokes: newJokes,\n                isLoaded: true\n            }\n        )); \n\n        // Update localStorage with new jokes\n        window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes));\n    }\n\n    _changeVote(n, uuid){\n        this.setState(st => ({\n            jokes: st.jokes.map(\n                // Map current jokes\n                joke => {\n                    // Update upvotes based on UUID\n                    if(joke.uuid === uuid){\n                        return{...joke, upvotes: joke.upvotes + n}\n                    }\n                return joke;\n                }\n            )\n            // Update localStorage with the changes\n        }), () => window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes))\n        );\n    }\n\n    _removeJoke(uuid){\n        this.setState(st => (\n            {\n                // Filter jokes based on UUID\n                jokes: st.jokes.filter(joke => joke.uuid !== uuid)\n            }\n            // Update localStorage with the changes\n        ), () => window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes)));\n    }\n\n    _renderJokes(){\n        \n        // Sort jokes based on the number of upvotes it has\n        let jokes = this.state.jokes.sort((a,b) => (b.upvotes - a.upvotes));\n            return(\n                    <div>\n                        {jokes.map(joke =>\n                        <Joke \n                            text={joke.text}\n                            upvotes={joke.upvotes}\n                            changeVote={this._changeVote}\n                            removeJoke={this._removeJoke}\n                            key={joke.uuid}\n                            uuid={joke.uuid}\n                        />)\n                        }\n                    </div>\n            );\n    }\n\n    render(){\n        return(\n            <div className=\"DadJokes px-4\">\n                <div className=\"row d-flex justify-content-center\">\n                    <div className=\"DadJokes-Body col-md-8 col-lg-8 px-3 py-2\">\n                        {this._renderJokes()}\n                        <div className=\"w-100 text-center\">\n                            <button className=\"DadJokes-Btn px-4 py-3\" onClick={this._genJokes}>{(this.state.isLoaded ? <i className=\"fas fa-plus\"></i> : \"Loading...\")}</button>\n                            <p className=\"mt-5 DadJokes-Footer\">Made by: <a href=\"https://paulboldyrev.me/\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"DadJokes-Link\">Paul Boldyrev</a></p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DadJokes;","import React from 'react';\nimport DadJokes from \"./DadJokes\"\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <DadJokes />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}