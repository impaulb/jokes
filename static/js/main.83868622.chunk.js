(this["webpackJsonpdad-jokes"]=this["webpackJsonpdad-jokes"]||[]).push([[0],{22:function(e,t,a){e.exports=a(51)},28:function(e,t,a){},46:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(18),r=a.n(s),c=a(8),i=a(7),u=a.n(i),l=a(19),m=a(3),d=a(4),k=a(2),p=a(6),h=a(5),f=(a(28),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"_handleChangeVote",value:function(e){this.props.changeVote(e,this.props.uuid)}},{key:"_handleRemoveJoke",value:function(){this.props.removeJoke(this.props.uuid)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Joke my-3 py-3 row"},o.a.createElement("div",{className:"d-inline col-2 Joke-BtnWrapper row"},o.a.createElement("button",{className:"Joke-Btn col-12",onClick:function(){return e._handleChangeVote(1)}},o.a.createElement("i",{className:"fas fa-angle-up"})),o.a.createElement("p",{className:"d-inline col-12"},this.props.upvotes),o.a.createElement("button",{className:"Joke-Btn col-12",onClick:function(){return e._handleChangeVote(-1)}},o.a.createElement("i",{className:"fas fa-angle-down"})),o.a.createElement("button",{className:"Joke-Btn col-12",onClick:function(){return e._handleRemoveJoke()}},o.a.createElement("i",{className:"fas fa-times"}))),o.a.createElement("div",{className:"col-10 mt-2"},o.a.createElement("p",{className:this.props.upvotes<0?"Joke-Dimmed":""},this.props.text)))}}]),a}(o.a.Component)),v=a(20),j=a.n(v),J=a(21),g=a.n(J),b=(a(46),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={jokes:JSON.parse(window.localStorage.getItem("jokes")||"[]"),isLoaded:!0},n.seenJokes=new Set(n.state.jokes.map((function(e){return e.text}))),n._changeVote=n._changeVote.bind(Object(k.a)(n)),n._genJokes=n._genJokes.bind(Object(k.a)(n)),n._renderJokes=n._renderJokes.bind(Object(k.a)(n)),n._removeJoke=n._removeJoke.bind(Object(k.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){0===this.state.jokes.length&&this._genJokes()}},{key:"_genJokes",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isLoaded:!1}),t=[];case 2:if(!(t.length<this.props.n)){e.next=10;break}return e.next=5,j.a.get("https://icanhazdadjoke.com/slack");case 5:a=e.sent,n=a.data.attachments[0].text,this.seenJokes.has(n)||t.push({text:n,upvotes:0,uuid:g()()}),e.next=2;break;case 10:this.setState((function(e){return{jokes:e.jokes.concat(t),isLoaded:!0}})),window.localStorage.setItem("jokes",JSON.stringify(this.state.jokes));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_changeVote",value:function(e,t){var a=this;this.setState((function(a){return{jokes:a.jokes.map((function(a){return a.uuid===t?Object(c.a)(Object(c.a)({},a),{},{upvotes:a.upvotes+e}):a}))}}),(function(){return window.localStorage.setItem("jokes",JSON.stringify(a.state.jokes))}))}},{key:"_removeJoke",value:function(e){var t=this;this.setState((function(t){return{jokes:t.jokes.filter((function(t){return t.uuid!==e}))}}),(function(){return window.localStorage.setItem("jokes",JSON.stringify(t.state.jokes))}))}},{key:"_renderJokes",value:function(){var e=this,t=this.state.jokes.sort((function(e,t){return t.upvotes-e.upvotes}));return o.a.createElement("div",null,t.map((function(t){return o.a.createElement(f,{text:t.text,upvotes:t.upvotes,changeVote:e._changeVote,removeJoke:e._removeJoke,key:t.uuid,uuid:t.uuid})})))}},{key:"render",value:function(){return o.a.createElement("div",{className:"DadJokes px-4"},o.a.createElement("div",{className:"row d-flex justify-content-center"},o.a.createElement("div",{className:"DadJokes-Body col-md-8 col-lg-8 px-3 py-2"},this._renderJokes(),o.a.createElement("div",{className:"w-100 text-center"},o.a.createElement("button",{className:"DadJokes-Btn px-4 py-3",onClick:this._genJokes},this.state.isLoaded?o.a.createElement("i",{className:"fas fa-plus"}):"Loading..."),o.a.createElement("p",{className:"mt-5 DadJokes-Footer"},"Made by: ",o.a.createElement("a",{href:"https://paulboldyrev.me/",rel:"noopener noreferrer",target:"_blank",className:"DadJokes-Link"},"Paul Boldyrev"))))))}}]),a}(o.a.Component));b.defaultProps={n:1};var E=b;a(49);var y=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(E,null))};a(50);r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(y,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.83868622.chunk.js.map